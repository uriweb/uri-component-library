/* ======= TILES ======= */

@keyframes tileReveal {
    from { transform: rotateY(90deg); }
    to   { transform: rotateY(0deg); }
}

.cl-tiles {
	
    width: 100%;
    box-sizing: border-box;
    display: block;
    margin: 0;
	
	* {
		box-sizing: border-box;
	}
	
	&:after {
		content: '';
		clear: both;
		display: block;
	}

	&>div,
	&>a {
		float: left;
		clear: none;
		overflow: visible;
		width: 100%;
		height: auto;
		margin-right: 0;
		padding-bottom: 0;
	}

	&.square {

		&>div,
		&>a {
			height: 0;
			overflow: hidden;
			padding-bottom: 100%;
		}

	}

	&.reveal {

		&>div,
		&>a {
			animation: tileReveal .5s;
		}

	}

	img {
		max-width: 100%;
	}

	&>div>h1,
	&>div>p {
		max-width: 500px;
	}

	&>div>p {
		width: 95%;
	}
	
	// Set up tiles.fifths at most narrow width
	&.fifths {
		
		&>div,
		&>a {

			width: 48.5%;

			&:not(:nth-child(2n)) {
				margin-right: 3%;
			}
			&:nth-child(2n+1) {
				clear: both;
			}

		}

	}
	
	&.square.fifths {
		&>div,
		&>a {

			width: 49.5%;
			padding-bottom: 49.5%;

			&:not(:nth-child(2n)) {
				margin-right: 1%;
			}

		}

	}

	&.compact.fifths {

		&>div,
		&>a {

			width: 50%;

			&:not(:nth-child(2n)) {
				margin-right: 0;
			}

		}

	}
	
	// Don't distort iframes
	iframe {
		width: 100%;
	}
	
}

@media screen and (min-width: $break0) {
    
    // Reset previous break
    .cl-tiles, .cl-tiles.square {
        &.fifths>div:not(:nth-child(2n)),
        &.fifths>a:not(:nth-child(2n)) {
            margin-right: 0;
        }
        &.fifths>div:nth-child(2n+1),
        &.fifths>a:nth-child(2n+1) {
            clear: none;
        }
    }
    
    .cl-tiles {
		
		// Reset previous break
        &.thirds>div:nth-child(2n+1),
        &.thirds>a:nth-child(2n+1),
        &.fourths>div:nth-child(2n+1),
        &.fourths>a:nth-child(2n+1),
        &.fifths>div:nth-child(3n+1),
        &.fifths>a:nth-child(3n+1){
            clear: both;
        }
    
    	// Set up default tiles for this break
        &.thirds>div:not(:nth-child(2n)),
        &.thirds>a:not(:nth-child(2n)),
        &.fourths>div:not(:nth-child(2n)),
        &.fourths>a:not(:nth-child(2n)),
        &.fifths>div:not(:nth-child(3n)),
        &.fifths>a:not(:nth-child(3n)) {
            margin-right: 3%;
        }
        &.thirds>div,
        &.thirds>a,
        &.fourths>div,
        &.fourths>a {
            width: 48.5%;
        }
        &.fifths>div,
        &.fifths>a {
            width: 31.33%;
        }

		// Set up square tiles for this break
		&.square {
			&.thirds>div:not(:nth-child(2n)),
			&.thirds>a:not(:nth-child(2n)),
			&.fourths>div:not(:nth-child(2n)),
			&.fourths>a:not(:nth-child(2n)),
			&.fifths>div:not(:nth-child(3n)),
			&.fifths>a:not(:nth-child(3n)) {
				margin-right: 1%;
			}
			&.thirds>div,
			&.thirds>a,
			&.fourths>div,
			&.fourths>a {
				width: 49.5%;
				padding-bottom: 49.5%;
			}
			&.fifths>div,
			&.fifths>a {
				width: 32.66%;
				padding-bottom: 32.66%;
			}
		}

		// Set up compact tiles for this break
		&.compact {
			&.thirds>div:not(:nth-child(2n)),
			&.thirds>a:not(:nth-child(2n)),
			&.fourths>div:not(:nth-child(2n)),
			&.fourths>a:not(:nth-child(2n)),
			&.fifths>div:not(:nth-child(3n)),
			&.fifths>a:not(:nth-child(3n)) {
				margin-right: 0;
			}
			&.thirds>div,
			&.thirds>a,
			&.fourths>div,
			&.fourths>a {
				width: 50%;
			}
			&.fifths>div,
			&.fifths>a {
				width: 33.33%;
			}
		}

	}
    
}

@media screen and (min-width: $break1) {
    
    // Reset previous break
    .cl-tiles, .cl-tiles.square {
        &.fourths>div:not(:nth-child(2n)),
        &.fourths>a:not(:nth-child(2n)),
        &.fifths>div:not(:nth-child(3n)),
        &.fifths>a:not(:nth-child(3n)) {
            margin-right: 0;
        }
        &.fourths>div:nth-child(2n+1),
        &.fourths>a:nth-child(2n+1),
        &.fifths>div:nth-child(3n+1),
        &.fifths>a:nth-child(3n+1) {
            clear: none;
        }
    }
    
    .cl-tiles {
		
		// Reset previous break
        &.fourths>div:nth-child(3n+1),
        &.fourths>a:nth-child(3n+1),
        &.fifths>div:nth-child(4n+1),
        &.fifths>a:nth-child(4n+1) {
            clear: both;
        }
    
    	// Set up default tiles for this break
        &.fourths>div:not(:nth-child(3n)),
        &.fourths>a:not(:nth-child(3n)),
        &.fifths>div:not(:nth-child(4n)),
        &.fifths>a:not(:nth-child(4n)) {
            margin-right: 3%;
        }
        &.fourths>div,
        &.fourths>a {
            width: 31.33%;
        }
        &.fifths>div,
        &.fifths>a {
            width: 22.75%;
        }

		// Set up square tiles for this break
		&.square {
			&.fourths>div:not(:nth-child(3n)),
			&.fourths>a:not(:nth-child(3n)),
			&.fifths>div:not(:nth-child(4n)),
			&.fifths>a:not(:nth-child(4n)) {
				margin-right: 1%;
			}
			&.fourths>div,
			&.fourths>a {
				width: 32.66%;
				padding-bottom: 32.66%;
			}
			&.fifths>div,
			&.fifths>a {
				width: 24.25%;
				padding-bottom: 24.25%;
			}
		}

		// Set up compact tiles for this break
		&.compact {
			&.fourths>div:not(:nth-child(3n)),
			&.fourths>a:not(:nth-child(3n)),
			&.fifths>div:not(:nth-child(4n)),
			&.fifths>a:not(:nth-child(4n)) {
				margin-right: 0;
			}
			&.fourths>div,
			&.fourths>a {
				width: 33.33%;
			}
			&.fifths>div,
			&.fifths>a {
				width: 25%;
			}
		}
		
	}
    
}

@media all and (min-width: $break2) {
    
    // Reset previous break
    .cl-tiles, .cl-tiles.square {
        &.thirds>div:not(:nth-child(2n)),
        &.thirds>a:not(:nth-child(2n)),
        &.fourths>div:not(:nth-child(3n)),
        &.fourths>a:not(:nth-child(3n)),
        &.fifths>div:not(:nth-child(4n)),
        &.fifths>a:not(:nth-child(4n)) {
            margin-right: 0;
        }
        &.thirds>div:nth-child(2n+1),
        &.thirds>a:nth-child(2n+1),
        &.fourths>div:nth-child(3n+1),
        &.fourths>a:nth-child(3n+1),
        &.fifths>div:nth-child(4n+1),
        &.fifths>a:nth-child(4n+1) {
            clear: none;
        }
    }
    
    .cl-tiles {

		// Reset previous break
        &.halves>div:nth-child(2n+1),
        &.halves>a:nth-child(2n+1),
        &.thirds>div:nth-child(3n+1),
        &.thirds>a:nth-child(3n+1),
        &.fourths>div:nth-child(4n+1),
        &.fourths>a:nth-child(4n+1),
        &.fifths>div:nth-child(5n+1),
        &.fifths>a:nth-child(5n+1) {
            clear: both;
        }

    	// Set up default tiles for this break
        &.halves>div:not(:nth-child(2n)),
        &.halves>a:not(:nth-child(2n)),
        &.thirds>div:not(:nth-child(3n)),
        &.thirds>a:not(:nth-child(3n)),
        &.fourths>div:not(:nth-child(4n)),
        &.fourths>a:not(:nth-child(4n)),
        &.fifths>div:not(:nth-child(5n)),
        &.fifths>a:not(:nth-child(5n)) {
            margin-right: 3%;
        }
        &.halves>div,
        &.halves>a {
            width: 48.5%;
        }
        &.thirds>div,
        &.thirds>a {
            width: 31.33%;
        }
        &.fourths>div,
        &.fourths>a {
            width: 22.75%;
        }
        &.fifths>div,
        &.fifths>a {
            width: 17.6%;
        }
    
		// Set up square tiles for this break
		&.square {
			&.halves>div:not(:nth-child(2n)),
			&.halves>a:not(:nth-child(2n)),
			&.thirds>div:not(:nth-child(3n)),
			&.thirds>a:not(:nth-child(3n)),
			&.fourths>div:not(:nth-child(4n)),
			&.fourths>a:not(:nth-child(4n)),
			&.fifths>div:not(:nth-child(5n)),
			&.fifths>a:not(:nth-child(5n)) {
				margin-right: 1%;
			}
			&.halves>div,
			&.halves>a {
				width: 49.5%;
				padding-bottom: 49.5%;
			}
			&.thirds>div,
			&.thirds>a {
				width: 32.66%;
				padding-bottom: 32.66%;
			}
			&.fourths>div,
			&.fourths>a {
				width: 24.25%;
				padding-bottom: 24.25%;
			}
			&.fifths>div,
			&.fifths>a {
				width: 19.2%;
				padding-bottom: 19.2%;
			}
		}

		// Set up compact tiles for this break
		&.compact {
			&.halves>div:not(:nth-child(2n)),
			&.halves>a:not(:nth-child(2n)),
			&.thirds>div:not(:nth-child(3n)),
			&.thirds>a:not(:nth-child(3n)),
			&.fourths>div:not(:nth-child(4n)),
			&.fourths>a:not(:nth-child(4n)),
			&.fifths>div:not(:nth-child(5n)),
			&.fifths>a:not(:nth-child(5n)) {
				margin-right: 0;
			}
			&.halves>div,
			&.halves>a {
				width: 50%;
			}
			&.thirds>div,
			&.thirds>a {
				width: 33.33%;
			}
			&.fourths>div,
			&.fourths>a {
				width: 25%;
			}
			&.fifths>div,
			&.fifths>a {
				width: 20%;
			}
		}

	}
    
}
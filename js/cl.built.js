/**
 * uri-component-library
 * 
 * --scripts--
 * 
 * @version v3.6.0
 * @author Brandon Fuller <bjcfuller@uri.edu>
 * @author John Pennypacker <jpennypacker@uri.edu>
 * @license GPL-3.0
 * @see https://www.uri.edu/styleguide
 */

class URICL{static checkSupport(){var e=!0,t=navigator.userAgent,n=t.indexOf("MSIE "),r=t.indexOf("Trident/");return("Microsoft Internet Explorer"===navigator.appName||n>0||r>0)&&(e=!1),e}static getVideoHost(e){var t,n;return n="youtube",(t=URICL.getURLDomainName(e))?-1<t.indexOf("vimeo.com")?"vimeo":-1<t.indexOf("youtube.com")||-1<t.indexOf("youtu.be")?"youtube":void 0:n}static getURLDomainName(e){var t;return(t=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i))&&t[1]}}var CLResizeSuperheroes,CLCreateYouTubePlayers,CLCreateVimeoPlayers;function onYouTubePlayerAPIReady(){CLCreateYouTubePlayers()}!function(){"use strict";window.addEventListener("load",function(){(function(){var e,t;for(e=document.querySelectorAll(".cl-hero .animate.shift"),t=0;t<e.length;t++)e[t].style.backgroundPositionX="100%",e[t].style.backgroundPositionY=0})(),function(){var e,t,n,r,o;(e=document.getElementById("hero"))&&(t=e.querySelector(".overlay"),n=window.pageYOffset,r=t.getBoundingClientRect().top+n,o=50,i(),window.addEventListener("scroll",function(){i()}));function i(){var e=window.pageYOffset,n=t.offsetHeight+r,i=Math.min(e/n*o,o);t.style.webkitBackdropFilter="blur("+i+"px)"}}(),URICL.checkSupport()&&(e=document.querySelectorAll(".cl-hero .poster"),window.addEventListener("resize",function(){var t,n=window.innerWidth;if(n<750)for(t=0;t<e.length;t++)e[t].classList.remove("unveil");else for(t=0;t<e.length;t++)e[t].classList.add("unveil")})),function(){var e,t,n,r=[];for(e=document.querySelectorAll(".cl-hero.super"),t=e.length,n=0;n<t;n++)r.push({el:e[n],offset:e[n].getBoundingClientRect().top});CLResizeSuperheroes=function(e){var n,o,i,a,s,l;for(n=window.innerHeight,o=window.innerWidth,i=window.pageYOffset,a=0;a<t;a++)s=r[a],!1!==e&&(s.offset=s.el.getBoundingClientRect().top),l=(s.offset+i)/n,s.el.style.height=n<.75*o&&n<675||l>.3?Math.max(.9*n,500)+"px":98-100*l+"vh"},window.dispatchEvent(new Event("scroll")),CLResizeSuperheroes(!1),window.addEventListener("resize",CLResizeSuperheroes.bind(null,!1),!1)}();var e},!1)}(),function(){"use strict";var e="reveal";function t(t,n,r){t.addEventListener("click",function(t){t.preventDefault(),function(t,n){var r,o;for(r=n.classList.contains(e),o=0;o<t.length;o++)t[o].classList.remove(e);r||n.classList.add(e)}(n,r)})}window.addEventListener("load",function(){var e,n,r,o,i,a,s,l;for(e=document.querySelectorAll(".cl-menu"),i=0;i<e.length;i++)(n=document.createElement("span")).className="cl-menu-toggle","0"===e[i].getAttribute("data-show-title")&&n.classList.add("hidden"),n.innerHTML=e[i].getAttribute("data-name"),n.addEventListener("click",function(){this.classList.contains("active")?this.classList.remove("active"):this.classList.add("active")}),(r=e[i].querySelector(".cl-menu-list")).classList.remove("cl-menu-list-no-js"),e[i].insertBefore(n,r),e[i].classList.add(".cl-menu-js");for(o=document.querySelectorAll(".cl-menu-list ul"),i=0;i<o.length;i++)(s=document.createElement("span")).className="cl-menu-arrow",o[i].parentNode.append(s),a=o[i].parentNode.querySelector("a"),(l=document.createElement("li")).appendChild(a.cloneNode(!0)),o[i].insertBefore(l,o[i].firstChild),a.classList.add("cl-menu-trigger"),t(a,o,o[i])},!1)}(),function(){"use strict";function e(e){var t,n;for(t=0;t<e.length;t++)if((n={}).el=e[t],n.num=n.el.querySelector("span"),n.w=n.num.clientWidth,n.fs=window.getComputedStyle(n.num).getPropertyValue("font-size"),n.sw=n.num.scrollWidth,n.mfs=n.el.getAttribute("data-font-max"),n.nfs=n.fs.match(/\d+/)[0],n.sw>n.w)for(n.num.classList.add("autosized");n.sw>n.w;)n.nfs--,n.num.style.fontSize=n.nfs+"px",n.sw=n.num.scrollWidth;else if(n.num.classList.contains("autosized"))for(;n.sw===n.w&&n.nfs<n.mfs;)n.nfs++,n.num.style.fontSize=n.nfs+"px",n.sw=n.num.scrollWidth}window.addEventListener("load",function(){var t,n;if((t=document.querySelectorAll(".cl-metric")).length>0){for(n=0;n<t.length;n++)t[n].setAttribute("data-font-max",window.getComputedStyle(t[n].querySelector("span")).getPropertyValue("font-size").match(/\d+/)[0]);e(t),window.addEventListener("resize",e.bind(null,t))}},!1)}(),function(){"use strict";function e(e,t){var n;(n=t.querySelector(".cl-overlay-block")).classList.contains("hidden")?(n.classList.remove("hidden"),t.style.height="auto",e.title="Hide story"):(t.style.height=t.offsetHeight+"px",n.classList.add("hidden"),e.title="Show story")}window.addEventListener("load",function(){var t,n,r;for(t=document.querySelectorAll(".cl-overlay"),n=0;n<t.length;n++)(r=document.createElement("div")).className="cl-overlay-slider",r.innerHTML='<div class="cl-overlay-prompter"></div>',r.title="Hide story",r.addEventListener("click",e.bind(null,r,t[n]),!1),t[n].querySelector(".cl-overlay-block").appendChild(r)},!1)}(),function(){"use strict";var e={heroes:{vimeo:{},yt:{}},videos:{vimeo:{},yt:{}}};window.addEventListener("load",function(){var t,n,r,o,i,a,s,l,d=!1,c=!1,u=document.querySelectorAll(".cl-hero .poster"),f=document.querySelectorAll(".cl-video img");if(URICL.checkSupport())for(t=0;t<u.length;t++)n=u[t],o=n.parentNode,i={parent:o,poster:n,w:o.offsetWidth,h:o.offsetHeight},a=n.getAttribute("data-video"),s=URICL.getVideoHost(a),r=n.getAttribute("id"),"youtube"==s&&(d=!0,e.heroes.yt[r]=i,e.heroes.yt[r].src=CLYT.getVideoID(a)),"vimeo"==s&&(c=!0,e.heroes.vimeo[r]=i,e.heroes.vimeo[r].src=a),n.removeAttribute("id"),(l=document.createElement("div")).id=r,o.appendChild(l);for(t=0;t<f.length;t++)n=f[t],r=n.getAttribute("id"),i={poster:n},a=n.getAttribute("data-video"),"youtube"==(s=URICL.getVideoHost(a))&&(e.videos.yt[r]=i,e.heroes.yt[r].src=CLYT.getVideoID(a),d=!0),"vimeo"==s&&(e.videos.vimeo[r]=i,e.videos.yt[r].src=a,c=!0);d&&CLYT.loadYouTubeAPI();c&&CLVimeo.loadVimeoAPI()},!1),CLCreateVimeoPlayers=function(){var t,n;for(t in e.heroes.vimeo){var r={url:(n=e.heroes.vimeo[t]).src,background:!0,autoplay:!0,width:n.w,height:n.h};n.player=new Vimeo.Player(t,r),n.player.on("loaded",CLVimeo.onHeroReady.bind(null,n)),n.player.on("error",CLVimeo.onHeroError.bind(null,n))}},CLCreateYouTubePlayers=function(){var t,n;for(t in e.heroes.yt)(n=e.heroes.yt[t]).player=new YT.Player(t,{width:n.w,height:n.h,videoId:n.src,playerVars:{autoplay:1,controls:0,showinfo:0,modestbranding:1,iv_load_policy:3,rel:0},events:{onReady:CLYT.onHeroReady,onStateChange:CLYT.onHeroStateChange,onError:CLYT.onHeroError}});for(t in e.videos.yt)(n=e.videos.yt[t]).player=new YT.Player(t,{videoId:n.src,playerVars:{autoplay:0,controls:1,showinfo:0,color:"white",modestbranding:1,iv_load_policy:3,rel:0},events:{onReady:CLYT.onVideoReady,onStateChange:CLYT.onVideoStateChange,onError:CLYT.onVideoError}})}}(),function(){"use strict";function e(e){var r,o,i,a,s=[];for(r=e.querySelectorAll("figure"),o=0;o<r.length;o++)(i={}).img=r[o].querySelector("img"),(a=r[o].querySelector("figcaption"))&&(i.caption=a.innerHTML),s.push(i);!function(e,r){var o,i,a,s,l,d,c,u;for((o=document.createElement("div")).className="cl-slideshow",(i=document.createElement("div")).className="carousel-wrapper",o.appendChild(i),(a=document.createElement("ul")).className="carousel transitions",i.appendChild(a),(s=document.createElement("ul")).className="captions",o.appendChild(s),(l=document.createElement("div")).className="counter",l.innerHTML="<span></span> of "+r.length,o.appendChild(l),u=0;u<r.length;u++)(d=document.createElement("li")).className="slide",d.appendChild(r[u].img),a.appendChild(d),(c=document.createElement("li")).className="caption",c.innerHTML=r[u].caption?r[u].caption:"",s.appendChild(c);i.appendChild(function(e){var r,o,i,a,s;for(s in(r=document.createElement("div")).className="controls",o=["Previous","Next"])(i=document.createElement("div")).className="target "+o[s].toLowerCase(),i.title=o[s],i.addEventListener("click",t.bind(null,e,o[s],!1)),(a=document.createElement("div")).className="controller",i.appendChild(a),r.appendChild(i);return function(e,r){var o,i;o=0,i=0,!0===function(){return"ontouchstart"in window||navigator.maxTouchPoints}&&e.classList.add("touch"),e.addEventListener("touchstart",function(e){var t;r.classList.remove("transitions"),t=e.changedTouches[0],o=parseInt(t.clientX),e.preventDefault()},!1),e.addEventListener("touchmove",function(e){var t,n,a,s;t=e.changedTouches[0],n=parseInt(t.clientX)-o-i,i=parseInt(t.clientX)-o,a=n<0?-1:1,s=r.style.transform.replace("translateX(","").replace("%)",""),r.style.transform="translateX("+(parseInt(s)+a)+"%)",e.preventDefault()},!1),e.addEventListener("touchend",function(e){var o;r.classList.add("transitions"),o=r.offsetWidth,i>.25*o?t(r,"Previous",!0):i<-.25*o?t(r,"Next",!0):n(r,parseInt(r.getAttribute("data-position"))),e.preventDefault()},!1)}(r,e),r}(a)),n(a,0),e.parentNode.replaceChild(o,e)}(e,s)}function t(e,t,r){var o,i;if(o=e.getAttribute("data-position"),i=e.children.length-1,e.classList.remove("reboundLeft","reboundRight"),"Next"===t){if(++o>i){if(!r)return e.offsetWidth,void e.classList.add("reboundRight");o--}}else if(--o<0){if(!r)return e.offsetWidth,void e.classList.add("reboundLeft");o++}n(e,o)}function n(e,t){var n,r;e.style.transform="translateX(-"+100*t+"%)",e.setAttribute("data-position",t),(r=(n=e.parentNode.parentNode).querySelector(".captions .active"))&&r.classList.remove("active"),n.querySelectorAll(".caption")[t].classList.add("active"),n.querySelector(".counter span").innerHTML=t+1}window.addEventListener("load",function(){var t,n;for(t=document.querySelectorAll(".gallery.gallery-size-full"),n=0;n<t.length;n++)e(t[n])},!1)}(),function(){"use strict";function e(e,o){var i,a,s,l,d,c,u,f,m,h;for(e.classList.add("cl-tabs-js"),d=e.querySelectorAll(".cl-tab"),(l=document.createElement("ul")).setAttribute("role","tablist"),m=0,f=0;f<d.length;f++)m++,i=(i=d[f].querySelector("h1"))?i.innerHTML:(i=d[f].querySelector("h2"))?i.innerHTML:"Section "+m,""===(a=d[f].id)&&(a="cl-tabs-"+o+"-tab-section-"+m,d[f].id=a),(c=document.createElement("li")).setAttribute("role","presentation"),(u=document.createElement("a")).href="#"+a,u.id="cl-tabs-"+o+"-tab-"+m,u.setAttribute("role","tab"),u.setAttribute("tabindex","-1"),u.innerHTML=i,c.appendChild(u),l.appendChild(c);for(e.insertBefore(l,d[0]),s=l.querySelectorAll("a"),f=0;f<s.length;f++)s[f].addEventListener("click",function(e){t(e,s,l,d)}),s[f].addEventListener("keydown",function(e){n(e,s,d)});for(f=0;f<d.length;f++)d[f].setAttribute("role","tabpanel"),d[f].setAttribute("tabindex","-1"),d[f].setAttribute("aria-labelledby",s[f].id),d[f].hidden=!0;s[0].removeAttribute("tabindex"),s[0].setAttribute("aria-selected","true"),d[0].hidden=!1,null!==(h=function(e){var t,n,r;t=document.URL.split("#"),r=null,t.length>1&&null!==(n=e.querySelector("#"+t[1]))&&(r=document.getElementById(n.getAttribute("aria-labelledby")));return r}(e))&&r(s,d,l.querySelector("[aria-selected]"),h)}function t(e,t,n,o){var i;e.preventDefault(),i=n.querySelector("[aria-selected]"),e.currentTarget!==i&&r(t,o,i,e.currentTarget)}function n(e,t,n){var o=Array.prototype.indexOf.call(t,e.currentTarget),i=37===e.which?o-1:39===e.which?o+1:40===e.which?"down":null;null!==i&&(e.preventDefault(),"down"===i?n[o].focus():t[i]&&r(t,n,e.currentTarget,t[i]))}function r(e,t,n,r){var o;r.focus(),r.removeAttribute("tabindex"),r.setAttribute("aria-selected","true"),n.removeAttribute("aria-selected"),n.setAttribute("tabindex","-1"),o=Array.prototype.indexOf.call(e,r),t[Array.prototype.indexOf.call(e,n)].hidden=!0,t[o].hidden=!1}window.addEventListener("load",function(){var t,n;for(t=document.querySelectorAll(".cl-tabs"),n=0;n<t.length;n++)e(t[n],n+1)},!1)}();class CLVimeo{static loadVimeoAPI(){var e,t;(e=document.createElement("script")).src="https://player.vimeo.com/api/player.js",(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t),e.addEventListener("load",CLCreateVimeoPlayers,!1)}static onHeroReady(e){window.addEventListener("resize",function(){CLVimeo.resizeHero(e)}),CLVimeo.resizeHero(e),window.addEventListener("scroll",function(){e.parent.classList.contains("paused")||CLVimeo.determinePlayState(e)}),CLVimeo.determinePlayState(e),overlay=e.parent.querySelector(".overlay"),button=document.createElement("div"),button.className="motionswitch",button.title="Pause",button.addEventListener("click",function(){CLVimeo.heroControl(e,button)}),overlay.appendChild(button)}static determinePlayState(e,t){console.log("playstate")}static heroControl(e){console.log("control")}static resizeHero(e){var t=e.parent.querySelector("iframe"),n=e.parent.offsetWidth,r=e.parent.offsetHeight;n/r>16/9?(t.style.height=9*n/16+"px",t.style.width="100%",t.style.left=0,t.style.top=(r-9*n/16)/2+"px",t.style.marginLeft=0):(n=16*r/9,t.style.height="100%",t.style.width=n+"px",t.style.left=0-n/2+"px",t.style.top=0,t.style.marginLeft="50%")}static onHeroError(e){console.log(e)}}!function(){"use strict";window.addEventListener("load",function(){var e,t;e=document.querySelectorAll(".cl-wave"),t=window.pageYOffset,window.addEventListener("scroll",function(){!function(e,t){var n,r,o,i;for(n=window.pageYOffset,r=n-t,o=0;o<e.length;o++)(i=e[o]).firstElementChild.style.backgroundPositionX=r+"px",i.lastElementChild.style.backgroundPositionX=r+"px"}(e,t)})},!1)}();class CLYT{static loadYouTubeAPI(){var e,t;(e=document.createElement("script")).src="https://www.youtube.com/player_api",(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t)}static getVideoID(e){var t,n;return t=/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/,(n=e.match(t))&&11==n[1].length?n[1]:e}static resizeHero(e,t){var n=t.offsetWidth,r=t.offsetHeight;n/r>16/9?(e.style.height=9*n/16+"px",e.style.width="100%",e.style.left=0,e.style.top=(r-9*n/16)/2+"px",e.style.marginLeft=0):(n=16*r/9,e.style.height="100%",e.style.width=n+"px",e.style.left=0-n/2+"px",e.style.top=0,e.style.marginLeft="50%")}static resizeVideo(e,t,n){t.style.height=n.offsetWidth/(e.target.a.offsetWidth/e.target.a.offsetHeight)+"px"}static determinePlayState(e,t){var n=window.innerHeight,r=window.pageYOffset,o=t.offsetHeight,i=t.getBoundingClientRect().top+r;n+r<i||r>i+o?e.target.pauseVideo():e.target.playVideo()}static onHeroReady(e){var t,n,r,o;e.target.mute(),t=e.target.getIframe(),n=e.target.a.parentNode,window.addEventListener("resize",function(){CLYT.resizeHero(t,n)}),CLYT.resizeHero(t,n),window.addEventListener("scroll",function(){n.classList.contains("paused")||CLYT.determinePlayState(e,n)}),CLYT.determinePlayState(e,n),r=n.querySelector(".overlay"),(o=document.createElement("div")).className="motionswitch",o.title="Pause",o.addEventListener("click",function(){CLYT.heroControl(e,n,this)}),r.appendChild(o)}static onVideoReady(e){var t=e.target.getIframe(),n=(e.target.a.id,e.target.a.parentNode);window.addEventListener("resize",function(){CLYT.resizeVideo(e,t,n)}),CLYT.resizeVideo(e,t,n)}static heroControl(e,t,n){switch(e.target.getPlayerState()){default:case 1:e.target.pauseVideo(),t.classList.add("paused"),n.setAttribute("title","Play");break;case 2:e.target.playVideo(),t.classList.remove("paused"),n.setAttribute("title","Pause")}}static onHeroStateChange(e){switch(e.target.getPlayerState()){case 0:e.target.playVideo();break;case-1:case 1:window.innerWidth>750&&e.target.a.previousSibling.classList.add("unveil")}}static onHeroError(e){e.target.a.previousSibling.classList.remove("unveil"),e.target.a.parentNode.querySelector(".motionswitch").style.display="none"}static onVideoError(e){var t,n,r,o,i;t=e.target.a.previousSibling,(n=document.createElement("a")).href="http://www.youtube.com/watch?v="+e.target.a.id,n.title="Try watching this video on YouTube",(r=document.createElement("img")).src=t.getAttribute("src"),(o=t.getAttribute("alt"))||(o="Poster for video"),r.alt=o,n.appendChild(r),(i=document.getElementById(e.target.a.id))&&e.target.a.parentNode.replaceChild(n,i)}static onVideoStateChange(e){var t=e.target.getPlayerState(),n=(e.target.a.id,e.target.a.parentNode.querySelector(".overlay"));switch(t){case 1:case 3:n.classList.add("hidden");break;default:n.classList.remove("hidden")}}}
@import "../../../src/sass/variables";
@import "../../../src/sass/buttons";
@import "../../../src/sass/boxouts";
@import "../../../src/sass/cards";
@import "../../../src/sass/metrics";

@keyframes metaReveal {
	from { transform: rotateX(90deg); 	transform-origin: top; }
	to   { transform: rotateX(0deg); 	transform-origin: top; }
}

.editor-styles-wrapper {
	line-height: 1.2;
}

textarea {
	background-color: inherit !important;
	border-radius: 0;
}

.components-placeholder.editor-media-placeholder {
	.components-placeholder__instructions {
		font-size: .875rem;
		margin: .5rem;
	}
}

.block-editor {
	.meta {
		animation: metaReveal .5s;
		background-color: #ddd;
		border-top: 2px solid #000;
		margin-top: .5rem;
		position: absolute;
		padding: 1rem 0;
		z-index: 10;
		.row {
			margin-left: .5rem;
			margin-right: .5rem;
		}
		&:before {
			content: ' ';
			display: block;
			left: 2rem;
			position: absolute;
			top: -12px;

			width: 0; 
			height: 0; 
			border-left: 12px solid transparent;
			border-right: 12px solid transparent;
			border-bottom: 12px solid black;

		}

		.link {
			label {
				float: left;
				margin-right: .5em;
				svg {
					margin-left: .25em;
					margin-top: .5em;
				}
			}
			input {
				width: auto;
			}
		}
		
	}
	.cl-card+.meta {
		top: -2rem;
	}
}




/* @todo: temporary styles that belong in the theme */
.block-editor {
	.cl-button textarea {
		font-family: "Hind", sans-serif !important;
		text-transform: uppercase;
		background-color: transparent !important;
	}
	.editor-styles-wrapper p {
		font-family: Charter, Georgia, serif;
	}
}



/** TABS **/
.block-editor .cl-tab {
	border: 1px dashed #ddd;
	border-width: 1px 0;
}




/** QUOTES **/
.block-editor .cl-quote cite textarea {
	max-width: 50%;
	position: relative;
	top: .375rem;
}



/** METRICS **/
.block-editor {
	.cl-metric textarea, .cl-metric span {
		text-align: center;
	}
	.cl-metric.right, .cl-metric.left {
		position: relative;
		width: 35%;
		z-index: 5;
	}
	.cl-metric.dark textarea {
		color: #fff;
	}
}


.block-editor {
	.cl-boxout.right, .cl-boxout.left, .cl-card.right, .cl-card.left {
		position: relative;
		z-index: 5;
	}
}

/** This would hide drop caps but probably everywhere. **/
// .blocks-font-size .components-toggle-control {
// 	display: none;
// }



/** BUTTONS **/
.block-editor {
	.cl-button {
		// @todo: don't repeat button styles here
		font-size: .8rem;
		font-weight: 700;
		padding: 1rem;
		text-transform: uppercase;
	}
	.cl-button, .cl-button:visited {
		text-decoration: none !important;
	}
	.cl-button-block-form {

		vertical-align: middle;
	
		label {
			color: $midgrey;
		}

		label,
		.editor-url-input {
			display: inline;
		}
	
		textarea {
			margin: -1rem;
			text-align: center;
		}
		textarea:focus {
		}

	}
	textarea.cl-button {
		border-radius: 0;
		color: $black !important;
		letter-spacing: .1rem;
	}
}


/** CARDS **/
.block-editor {
	.cl-card {
		overflow: visible !important;
	}
	.cl-card-text div {
		font-size: 1rem;
	}
	.cl-card-text>div {
		margin-bottom: 2rem;
	}
}





/** HEROES **/
.edit-post-visual-editor div[data-type="uri-cl/hero"] {
	max-width: 100%;
}

.block-editor {
	.editor-styles-wrapper {

		.cl-hero {
			background-color: #fff;
			overflow: initial;
			h1, h1 textarea:focus {
				color: #fff;
				textarea::placeholder {
					color: #fff;
				}
			}
			.subhead {
				margin: 0 0 2rem;
			}
		}
		

		.cl-hero {
			/* these are WP's block defaults, we honor them for regular heroes */
			max-width: 610px;
			margin-left: auto;
			margin-right: auto;
		}
		.cl-hero.super, .cl-hero.fullwidth {
			/* we override the default block width for full-width and full-screen heroes */
			max-width: 100%;
			left: 0;
			margin-left: 0;
			margin-right: 0;
			width: 100%;
		 .meta {
				max-width: 400px;
			}
		}
		.cl-hero.super {
			h1, textarea, .subhead {
				text-align: center;
			}
			.meta {
				margin-left: auto;
				margin-right: auto;
			}
		}

		.cl-hero.selected {
			h1 textarea, .subhead div.subhead {
			}
		}

		.cl-hero.selected.no-image .poster {
			z-index: 10;
			height: auto;
			.wp-block-uri-cl-hero {
				min-height: 150px;
			}
		}
		.cl-hero.has-image .poster {
			img {
				height: 100%;
				object-fit: cover;
				width: 100%;
			}
		}
	}
}
